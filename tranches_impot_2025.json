let TRANCHES_IMPOT = [];

async function chargerTranchesImpot() {
    try {
        const response = await fetch("https://fiche-paie.github.io/lebestexpert/tranches_impot_2025.json");
        const data = await response.json();
        TRANCHES_IMPOT = data.map(t => ({
            min: t.min,
            max: t.max ?? Infinity,
            taux: t.taux
        }));
    } catch (error) {
        console.error("Erreur de chargement des tranches :", error);
        alert("Impossible de charger les tranches d'imposition.");
    }
}

chargerTranchesImpot(); // appel automatique
